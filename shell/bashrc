#!/bin/bash
# shellcheck disable=SC1090,SC1091
# Bash configuration

# If not running interactively, don't do anything
case $- in
    *i*) ;;
      *) return;;
esac

# History configuration
HISTCONTROL=ignoreboth
HISTSIZE=10000
HISTFILESIZE=20000
shopt -s histappend

# Check window size after each command
shopt -s checkwinsize

# Enable color support
if [ -x /usr/bin/dircolors ]; then
    test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
    alias ls='ls --color=auto'
    alias grep='grep --color=auto'
fi

# Preferred editor
export EDITOR='nvim'
export VISUAL='nvim'

# Aliases
if [ -f ~/.bash_aliases ]; then
    . ~/.bash_aliases
fi

# Homebrew (if installed)
if [[ -d "/opt/homebrew/bin" ]]; then
    eval "$(/opt/homebrew/bin/brew shellenv)"
fi

# Starship prompt (if installed)
if command -v starship >/dev/null 2>&1; then
    eval "$(starship init bash)"
fi

# Add your custom tool integrations here
# Examples:
#
# # Wand shims
# export PATH="$HOME/.wand/shims:$PATH"
#
# # fnm (Fast Node Manager)
# if command -v fnm >/dev/null 2>&1; then
#     eval "$(fnm env --use-on-cd)"
# fi
#
# # pyenv
# if command -v pyenv >/dev/null 2>&1; then
#     export PYENV_ROOT="$HOME/.pyenv"
#     export PATH="$PYENV_ROOT/bin:$PATH"
#     eval "$(pyenv init -)"
# fi
#
# # Rust
# if [ -f "$HOME/.cargo/env" ]; then
#     . "$HOME/.cargo/env"
# fi
